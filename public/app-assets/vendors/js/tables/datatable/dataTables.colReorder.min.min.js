/*!
 ColReorder 1.4.1
 Â©2010-2017 SpryMedia Ltd - datatables.net/license
*/
(function(a){"function"===typeof define&&define.amd?define(["jquery","datatables.net"],function(b){return a(b,window,document)}):"object"===typeof exports?module.exports=function(c,b){c||(c=window);if(!b||!b.fn.dataTable){b=require("datatables.net")(c,b).$}return a(b,c,c.document)}:a(jQuery,window,document)})(function(h,d,e,a){function b(i){for(var f=[],m=0,l=i.length;m<l;m++){f[i[m]]=m}return f}function c(i,f,l){f=i.splice(f,1)[0];i.splice(l,0,f)}function k(l,i,p){for(var n=[],m=0,o=l.childNodes.length;m<o;m++){1==l.childNodes[m].nodeType&&n.push(l.childNodes[m])}i=n[i];null!==p?l.insertBefore(i,n[p]):l.appendChild(i)}var j=h.fn.dataTable;h.fn.dataTableExt.oApi.fnColReorder=function(z,y,x,v,u){var w,t,r,o,s,p=z.aoColumns.length,q;s=function(l,i,n){if(l[i]&&"function"!==typeof l[i]){var A=l[i].split("."),m=A.shift();isNaN(1*m)||(l[i]=n[1*m]+"."+A.join("."))}};if(y!=x){if(0>y||y>=p){this.oApi._fnLog(z,1,"ColReorder 'from' index is out of bounds: "+y)}else{if(0>x||x>=p){this.oApi._fnLog(z,1,"ColReorder 'to' index is out of bounds: "+x)}else{r=[];w=0;for(t=p;w<t;w++){r[w]=w}c(r,y,x);var f=b(r);w=0;for(t=z.aaSorting.length;w<t;w++){z.aaSorting[w][0]=f[z.aaSorting[w][0]]}if(null!==z.aaSortingFixed){w=0;for(t=z.aaSortingFixed.length;w<t;w++){z.aaSortingFixed[w][0]=f[z.aaSortingFixed[w][0]]}}w=0;for(t=p;w<t;w++){q=z.aoColumns[w];r=0;for(o=q.aDataSort.length;r<o;r++){q.aDataSort[r]=f[q.aDataSort[r]]}q.idx=f[q.idx]}h.each(z.aLastSort,function(i,l){z.aLastSort[i].src=f[l.src]});w=0;for(t=p;w<t;w++){q=z.aoColumns[w],"number"==typeof q.mData?q.mData=f[q.mData]:h.isPlainObject(q.mData)&&(s(q.mData,"_",f),s(q.mData,"filter",f),s(q.mData,"sort",f),s(q.mData,"type",f))}if(z.aoColumns[y].bVisible){s=this.oApi._fnColumnIndexToVisible(z,y);o=null;for(w=x<y?x:x+1;null===o&&w<p;){o=this.oApi._fnColumnIndexToVisible(z,w),w++}r=z.nTHead.getElementsByTagName("tr");w=0;for(t=r.length;w<t;w++){k(r[w],s,o)}if(null!==z.nTFoot){r=z.nTFoot.getElementsByTagName("tr");w=0;for(t=r.length;w<t;w++){k(r[w],s,o)}}w=0;for(t=z.aoData.length;w<t;w++){null!==z.aoData[w].nTr&&k(z.aoData[w].nTr,s,o)}}c(z.aoColumns,y,x);w=0;for(t=p;w<t;w++){z.oApi._fnColumnOptions(z,w,{})}c(z.aoPreSearchCols,y,x);w=0;for(t=z.aoData.length;w<t;w++){o=z.aoData[w];if(q=o.anCells){c(q,y,x);r=0;for(s=q.length;r<s;r++){q[r]&&q[r]._DT_CellIndex&&(q[r]._DT_CellIndex.column=r)}}"dom"!==o.src&&h.isArray(o._aData)&&c(o._aData,y,x)}w=0;for(t=z.aoHeader.length;w<t;w++){c(z.aoHeader[w],y,x)}if(null!==z.aoFooter){w=0;for(t=z.aoFooter.length;w<t;w++){c(z.aoFooter[w],y,x)}}(u||u===a)&&h.fn.dataTable.Api(z).rows().invalidate();w=0;for(t=p;w<t;w++){h(z.aoColumns[w].nTh).off("click.DT"),this.oApi._fnSortAttachListener(z,z.aoColumns[w].nTh,w)}h(z.oInstance).trigger("column-reorder.dt",[z,{from:y,to:x,mapping:f,drop:v,iFrom:y,iTo:x,aiInvertMapping:f}])}}}};var g=function(i,f){var m=(new h.fn.dataTable.Api(i)).settings()[0];if(m._colReorder){return m._colReorder}!0===f&&(f={});var l=h.fn.dataTable.camelToHungarian;l&&(l(g.defaults,g.defaults,!0),l(g.defaults,f||{}));this.s={dt:null,init:h.extend(!0,{},g.defaults,f),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]};this.dom={drag:null,pointer:null};this.s.dt=m;this.s.dt._colReorder=this;this._fnConstruct();return this};h.extend(g.prototype,{fnReset:function(){this._fnOrderColumns(this.fnOrder());return this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(i,f){var o=[],m,l,n=this.s.dt.aoColumns;if(i===a){m=0;for(l=n.length;m<l;m++){o.push(n[m]._ColReorder_iOrigCol)}return o}if(f){n=this.fnOrder();m=0;for(l=i.length;m<l;m++){o.push(h.inArray(i[m],n))}i=o}this._fnOrderColumns(b(i));return this},fnTranspose:function(i,f){f||(f="toCurrent");var m=this.fnOrder(),l=this.s.dt.aoColumns;return"toCurrent"===f?!h.isArray(i)?h.inArray(i,m):h.map(i,function(n){return h.inArray(n,m)}):!h.isArray(i)?l[i]._ColReorder_iOrigCol:h.map(i,function(n){return l[n]._ColReorder_iOrigCol})},_fnConstruct:function(){var i=this,f=this.s.dt.aoColumns.length,o=this.s.dt.nTable,m;this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns);this.s.init.iFixedColumnsLeft&&(this.s.fixed=this.s.init.iFixedColumnsLeft);this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0;this.s.init.fnReorderCallback&&(this.s.reorderCallback=this.s.init.fnReorderCallback);for(m=0;m<f;m++){m>this.s.fixed-1&&m<f-this.s.fixedRight&&this._fnMouseListener(m,this.s.dt.aoColumns[m].nTh),this.s.dt.aoColumns[m]._ColReorder_iOrigCol=m}this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(p,q){i._fnStateSave.call(i,q)},"ColReorder_State");var l=null;this.s.init.aiOrder&&(l=this.s.init.aiOrder.slice());this.s.dt.oLoadedState&&("undefined"!=typeof this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length)&&(l=this.s.dt.oLoadedState.ColReorder);if(l){if(i.s.dt._bInitComplete){f=b(l),i._fnOrderColumns.call(i,f)}else{var n=!1;h(o).on("draw.dt.colReorder",function(){if(!i.s.dt._bInitComplete&&!n){n=true;var p=b(l);i._fnOrderColumns.call(i,p)}})}}else{this._fnSetColumnIndexes()}h(o).on("destroy.dt.colReorder",function(){h(o).off("destroy.dt.colReorder draw.dt.colReorder");h(i.s.dt.nTHead).find("*").off(".ColReorder");h.each(i.s.dt.aoColumns,function(q,p){h(p.nTh).removeAttr("data-column-index")});i.s.dt._colReorder=null;i.s=null})},_fnOrderColumns:function(i){var f=!1;if(i.length!=this.s.dt.aoColumns.length){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.")}else{for(var n=0,m=i.length;n<m;n++){var l=h.inArray(n,i);n!=l&&(c(i,l,n),this.s.dt.oInstance.fnColReorder(l,n,!0,!1),f=!0)}h.fn.dataTable.Api(this.s.dt).rows().invalidate();this._fnSetColumnIndexes();f&&((""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))}},_fnStateSave:function(i){var f,o,m,l=this.s.dt.aoColumns;i.ColReorder=[];if(i.aaSorting){for(f=0;f<i.aaSorting.length;f++){i.aaSorting[f][0]=l[i.aaSorting[f][0]]._ColReorder_iOrigCol}var n=h.extend(!0,[],i.aoSearchCols);f=0;for(o=l.length;f<o;f++){m=l[f]._ColReorder_iOrigCol,i.aoSearchCols[m]=n[f],i.abVisCols[m]=l[f].bVisible,i.ColReorder.push(m)}}else{if(i.order){for(f=0;f<i.order.length;f++){i.order[f][0]=l[i.order[f][0]]._ColReorder_iOrigCol}n=h.extend(!0,[],i.columns);f=0;for(o=l.length;f<o;f++){m=l[f]._ColReorder_iOrigCol,i.columns[m]=n[f],i.ColReorder.push(m)}}}},_fnMouseListener:function(i,f){var l=this;h(f).on("mousedown.ColReorder",function(m){l._fnMouseDown.call(l,m,f)}).on("touchstart.ColReorder",function(m){l._fnMouseDown.call(l,m,f)})},_fnMouseDown:function(i,f){var n=this,m=h(i.target).closest("th, td").offset(),l=parseInt(h(f).attr("data-column-index"),10);l!==a&&(this.s.mouse.startX=this._fnCursorPosition(i,"pageX"),this.s.mouse.startY=this._fnCursorPosition(i,"pageY"),this.s.mouse.offsetX=this._fnCursorPosition(i,"pageX")-m.left,this.s.mouse.offsetY=this._fnCursorPosition(i,"pageY")-m.top,this.s.mouse.target=this.s.dt.aoColumns[l].nTh,this.s.mouse.targetIndex=l,this.s.mouse.fromIndex=l,this._fnRegions(),h(e).on("mousemove.ColReorder touchmove.ColReorder",function(o){n._fnMouseMove.call(n,o)}).on("mouseup.ColReorder touchend.ColReorder",function(o){n._fnMouseUp.call(n,o)}))},_fnMouseMove:function(l){if(null===this.dom.drag){if(5>Math.pow(Math.pow(this._fnCursorPosition(l,"pageX")-this.s.mouse.startX,2)+Math.pow(this._fnCursorPosition(l,"pageY")-this.s.mouse.startY,2),0.5)){return}this._fnCreateDragNode()}this.dom.drag.css({left:this._fnCursorPosition(l,"pageX")-this.s.mouse.offsetX,top:this._fnCursorPosition(l,"pageY")-this.s.mouse.offsetY});for(var i=!1,o=this.s.mouse.toIndex,n=1,m=this.s.aoTargets.length;n<m;n++){if(this._fnCursorPosition(l,"pageX")<this.s.aoTargets[n-1].x+(this.s.aoTargets[n].x-this.s.aoTargets[n-1].x)/2){this.dom.pointer.css("left",this.s.aoTargets[n-1].x);this.s.mouse.toIndex=this.s.aoTargets[n-1].to;i=!0;break}}i||(this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x),this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to);this.s.init.bRealtime&&o!==this.s.mouse.toIndex&&(this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!1),this.s.mouse.fromIndex=this.s.mouse.toIndex,this._fnRegions())},_fnMouseUp:function(){h(e).off(".ColReorder");null!==this.dom.drag&&(this.dom.drag.remove(),this.dom.pointer.remove(),this.dom.drag=null,this.dom.pointer=null,this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!0),this._fnSetColumnIndexes(),(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))},_fnRegions:function(){var i=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length);this.s.aoTargets.push({x:h(this.s.dt.nTable).offset().left,to:0});for(var f=0,n=this.s.aoTargets[0].x,m=0,l=i.length;m<l;m++){m!=this.s.mouse.fromIndex&&f++,i[m].bVisible&&"none"!==i[m].nTh.style.display&&(n+=h(i[m].nTh).outerWidth(),this.s.aoTargets.push({x:n,to:f}))}0!==this.s.fixedRight&&this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight);0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)},_fnCreateDragNode:function(){var i=""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY,f=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh,o=f.parentNode,m=o.parentNode,l=m.parentNode,n=h(f).clone();this.dom.drag=h(l.cloneNode(!1)).addClass("DTCR_clonedTable").append(h(m.cloneNode(!1)).append(h(o.cloneNode(!1)).append(n[0]))).css({position:"absolute",top:0,left:0,width:h(f).outerWidth(),height:h(f).outerHeight()}).appendTo("body");this.dom.pointer=h("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:i?h("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:h(this.s.dt.nTable).offset().top,height:i?h("div.dataTables_scroll",this.s.dt.nTableWrapper).height():h(this.s.dt.nTable).height()}).appendTo("body")},_fnSetColumnIndexes:function(){h.each(this.s.dt.aoColumns,function(i,f){h(f.nTh).attr("data-column-index",i)})},_fnCursorPosition:function(i,f){return -1!==i.type.indexOf("touch")?i.originalEvent.touches[0][f]:i[f]}});g.defaults={aiOrder:null,bRealtime:!0,iFixedColumnsLeft:0,iFixedColumnsRight:0,fnReorderCallback:null};g.version="1.4.1";h.fn.dataTable.ColReorder=g;h.fn.DataTable.ColReorder=g;"function"==typeof h.fn.dataTable&&"function"==typeof h.fn.dataTableExt.fnVersionCheck&&h.fn.dataTableExt.fnVersionCheck("1.10.8")?h.fn.dataTableExt.aoFeatures.push({fnInit:function(i){var f=i.oInstance;i._colReorder?f.oApi._fnLog(i,1,"ColReorder attempted to initialise twice. Ignoring second"):(f=i.oInit,new g(i,f.colReorder||f.oColReorder||{}));return null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download");h(e).on("preInit.dt.colReorder",function(i,f){if("dt"===i.namespace){var m=f.oInit.colReorder,l=j.defaults.colReorder;if(m||l){l=h.extend({},m,l),!1!==m&&new g(f,l)}}});h.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(f){f._colReorder.fnReset()})});h.fn.dataTable.Api.register("colReorder.order()",function(i,f){return i?this.iterator("table",function(l){l._colReorder.fnOrder(i,f)}):this.context.length?this.context[0]._colReorder.fnOrder():null});h.fn.dataTable.Api.register("colReorder.transpose()",function(i,f){return this.context.length&&this.context[0]._colReorder?this.context[0]._colReorder.fnTranspose(i,f):i});h.fn.dataTable.Api.register("colReorder.move()",function(i,f,m,l){this.context.length&&this.context[0]._colReorder.s.dt.oInstance.fnColReorder(i,f,m,l);return this});return g});