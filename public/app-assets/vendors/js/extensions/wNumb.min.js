(function(a){if(typeof define==="function"&&define.amd){define([],a)}else{if(typeof exports==="object"){module.exports=a()}else{window.wNumb=a()}}}(function(){var l=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];function b(m){return m.split("").reverse().join("")}function g(m,n){return m.substring(0,n.length)===n}function c(m,n){return m.slice(-1*n.length)===n}function h(o,n,m){if((o[n]||o[m])&&(o[n]===o[m])){throw new Error(n)}}function d(m){return typeof m==="number"&&isFinite(m)}function a(n,m){var o=Math.pow(10,m);return(Math.round(n*o)/o).toFixed(m)}function f(D,v,t,z,o,B,p,s,A,w,C,u){var y=u,r,n,x,m="",q="";if(B){u=B(u)}if(!d(u)){return false}if(D!==false&&parseFloat(u.toFixed(D))===0){u=0}if(u<0){r=true;u=Math.abs(u)}if(D!==false){u=a(u,D)}u=u.toString();if(u.indexOf(".")!==-1){n=u.split(".");x=n[0];if(t){m=t+n[1]}}else{x=u}if(v){x=b(x).match(/.{1,3}/g);x=b(x.join(b(v)))}if(r&&s){q+=s}if(z){q+=z}if(r&&A){q+=A}q+=x;q+=m;if(o){q+=o}if(w){q=w(q,y)}return q}function i(n,A,q,t,z,u,o,r,p,y,x,w){var v=w,s,m="";if(x){w=x(w)}if(!w||typeof w!=="string"){return false}if(r&&g(w,r)){w=w.replace(r,"");s=true}if(t&&g(w,t)){w=w.replace(t,"")}if(p&&g(w,p)){w=w.replace(p,"");s=true}if(z&&c(w,z)){w=w.slice(0,-1*z.length)}if(A){w=w.split(A).join("")}if(q){w=w.replace(q,".")}if(s){m+="-"}m+=w;m=m.replace(/[^0-9\.\-.]/g,"");if(m===""){return false}m=Number(m);if(o){m=o(m)}if(!d(m)){return false}return m}function k(p){var o,n,q,m={};for(o=0;o<l.length;o+=1){n=l[o];q=p[n];if(q===undefined){if(n==="negative"&&!m.negativeBefore){m[n]="-"}else{if(n==="mark"&&m.thousand!=="."){m[n]="."}else{m[n]=false}}}else{if(n==="decimals"){if(q>=0&&q<8){m[n]=q}else{throw new Error(n)}}else{if(n==="encoder"||n==="decoder"||n==="edit"||n==="undo"){if(typeof q==="function"){m[n]=q}else{throw new Error(n)}}else{if(typeof q==="string"){m[n]=q}else{throw new Error(n)}}}}}h(m,"mark","thousand");h(m,"prefix","negative");h(m,"prefix","negativeBefore");return m}function e(o,q,m){var p,n=[];for(p=0;p<l.length;p+=1){n.push(o[l[p]])}n.push(m);return q.apply("",n)}function j(m){if(!(this instanceof j)){return new j(m)}if(typeof m!=="object"){return}m=k(m);this.to=function(n){return e(m,f,n)};this.from=function(n){return e(m,i,n)}}return j}));