(function(b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof exports==="object"){module.exports=b()}else{window.wNumb=b()}}}(function(){var m=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];function w(a){return a.split("").reverse().join("")}function r(a,b){return a.substring(0,b.length)===b}function v(a,b){return a.slice(-1*b.length)===b}function q(b,c,a){if((b[c]||b[a])&&(b[c]===b[a])){throw new Error(c)}}function u(a){return typeof a==="number"&&isFinite(a)}function x(c,a){var b=Math.pow(10,a);return(Math.round(c*b)/b).toFixed(a)}function s(i,e,g,a,H,E,G,h,F,d,j,f){var b=f,k,I,c,J="",l="";if(E){f=E(f)}if(!u(f)){return false}if(i!==false&&parseFloat(f.toFixed(i))===0){f=0}if(f<0){k=true;f=Math.abs(f)}if(i!==false){f=x(f,i)}f=f.toString();if(f.indexOf(".")!==-1){I=f.split(".");c=I[0];if(g){J=g+I[1]}}else{c=f}if(e){c=w(c).match(/.{1,3}/g);c=w(c.join(w(e)))}if(k&&h){l+=h}if(a){l+=a}if(k&&F){l+=F}l+=c;l+=J;if(H){l+=H}if(d){l=d(l,b)}return l}function p(f,e,b,C,h,B,d,a,c,i,j,k){var l=k,D,g="";if(j){k=j(k)}if(!k||typeof k!=="string"){return false}if(a&&r(k,a)){k=k.replace(a,"");D=true}if(C&&r(k,C)){k=k.replace(C,"")}if(c&&r(k,c)){k=k.replace(c,"");D=true}if(h&&v(k,h)){k=k.slice(0,-1*h.length)}if(e){k=k.split(e).join("")}if(b){k=k.replace(b,".")}if(D){g+="-"}g+=k;g=g.replace(/[^0-9\.\-.]/g,"");if(g===""){return false}g=Number(g);if(d){g=d(g)}if(!u(g)){return false}return g}function n(c){var d,e,b,a={};for(d=0;d<m.length;d+=1){e=m[d];b=c[e];if(b===undefined){if(e==="negative"&&!a.negativeBefore){a[e]="-"}else{if(e==="mark"&&a.thousand!=="."){a[e]="."}else{a[e]=false}}}else{if(e==="decimals"){if(b>=0&&b<8){a[e]=b}else{throw new Error(e)}}else{if(e==="encoder"||e==="decoder"||e==="edit"||e==="undo"){if(typeof b==="function"){a[e]=b}else{throw new Error(e)}}else{if(typeof b==="string"){a[e]=b}else{throw new Error(e)}}}}}q(a,"mark","thousand");q(a,"prefix","negative");q(a,"prefix","negativeBefore");return a}function t(d,b,a){var c,e=[];for(c=0;c<m.length;c+=1){e.push(d[m[c]])}e.push(a);return b.apply("",e)}function o(a){if(!(this instanceof o)){return new o(a)}if(typeof a!=="object"){return}a=n(a);this.to=function(b){return t(a,s,b)};this.from=function(b){return t(a,p,b)}}return o}));