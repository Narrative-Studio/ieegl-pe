(function(f,h,b){function i(k){return k?String(k).replace(/[&<>"']/g,function(l){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[l]}):""}var g=b("#single-select-box").find("option").map(function(){return this.textContent}).get();var j=b("#multiple-select-box").find("optgroup").map(function(){return{text:this.getAttribute("label"),children:b(this).find("option").map(function(){return{id:parseInt(this.getAttribute("value"),10),text:this.textContent}}).get()}}).get();var c=b("#multiple-select-box").find("option").map(function(){return{id:this.textContent,timezone:this.getAttribute("data-timezone")}}).get();var e=b.fn.selectivity.transformText;function d(o){var k=o.selectivity;var m=o.term;var p=o.offset||0;var l;if(k.$el.attr("id")==="single-input-with-submenus"){if(k.dropdown){var n=k.dropdown.highlightedResult.id;l=c.filter(function(q){return e(q.id).indexOf(e(m))>-1&&q.timezone===n}).map(function(q){return q.id})}else{o.callback({more:false,results:[]});return}}else{l=g.filter(function(q){return e(q).indexOf(e(m))>-1})}l.sort(function(s,q){s=e(s);q=e(q);var t=(s.slice(0,m.length)===m),r=(q.slice(0,m.length)===m);if(t){return(r?(s>q?1:-1):-1)}else{return(r?1:(s>q?1:-1))}});setTimeout(function(){o.callback({more:l.length>p+10,results:l.slice(p,p+10)})},500)}b(".single-input").selectivity({allowClear:true,placeholder:"No city selected",query:d,searchInputPlaceholder:"Type to search a city"});b(".single-input-without-search").selectivity({allowClear:true,items:g,placeholder:"No city selected"});b(".single-input-with-labels").selectivity({allowClear:true,items:j,placeholder:"No city selected",searchInputPlaceholder:"Type to search a city"});var a={query:d,showSearchInput:true};b(".single-input-with-submenus").selectivity({allowClear:true,items:[{text:"Western European Time Zone",id:"+00:00",submenu:a},{text:"Central European Time Zone",id:"+01:00",submenu:a},{text:"Eastern European Time Zone",id:"+02:00",submenu:a}],placeholder:"No city selected",showSearchInputInDropdown:false});b(".multiple-input").selectivity({multiple:true,placeholder:"Type to search cities",query:d});b(".tags-input").selectivity({items:["red","green","blue"],multiple:true,tokenSeparators:[" "],value:["brown","red","green"]});b(".emails-input").selectivity({inputType:"Email",placeholder:"Type or paste email addresses"});b(".single-select-box").selectivity();b(".without-search-box").selectivity({showSearchInputInDropdown:false});b(".multiple-select-box").selectivity();b(".repository-input").selectivity({ajax:{url:"https://api.github.com/search/repositories",dataType:"json",minimumInputLength:3,quietMillis:250,params:function(k,m){var l=1+Math.floor(m/30);return{q:k,page:l}},processItem:function(k){return{id:k.id,text:k.name,description:k.description}},results:function(k,l){return{results:k.items,more:(k.total_count>l+k.items.length)}}},placeholder:"Search for a repository",templates:{resultItem:function(k){return('<div class="selectivity-result-item" data-item-id="'+k.id+'"><b>'+i(k.text)+"</b><br>"+i(k.description)+"</div>")}}})})(window,document,jQuery);